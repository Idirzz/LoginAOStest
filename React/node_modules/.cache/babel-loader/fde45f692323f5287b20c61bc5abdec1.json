{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Idir\\\\Desktop\\\\42\\\\login\\\\React\\\\src\\\\components\\\\login.component.js\";\nimport React, { Component } from \"react\";\nimport Email from \"./email.component\";\nimport Password from \"./password.component\";\nimport { Redirect } from 'react-router-dom';\n\nconst axios = require(\"axios\");\n\nexport default class register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = async field => {\n      await this.setState(field);\n      this.setState({\n        errordiv: \"none\"\n      });\n      if (this.state.email.status && this.state.pwd.status) this.setState({\n        buttondisabled: false\n      });else this.setState({\n        buttondisabled: true\n      });\n    };\n\n    this.OnClickSubmit = () => {\n      if (this.state.buttondisabled === false) {\n        axios.post(\"http://localhost:3001/login\", {\n          \"email\": this.state.email.value,\n          \"password\": this.state.pwd.value\n        }).then(result => {\n          console.log(result);\n\n          if (result && result.data && result.data === true) {\n            this.setState({\n              redirect: true\n            });\n            window.location.reload(false);\n          } else {\n            this.setState({\n              errorheader: \"\",\n              errorresend: \"none\",\n              errordiv: \"\",\n              errormsg: \"Wrong e-mail or/and password\"\n            });\n            console.log(\"mauvais log\");\n          }\n        }).catch(err => {\n          console.log(\"There was an error with login request \" + err);\n        });\n      }\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      email: {\n        value: \"\",\n        status: false\n      },\n      pwd: {\n        value: \"\",\n        status: false\n      },\n      buttondisabled: true,\n      errorheader: \"none\",\n      errordiv: \"none\",\n      divstyle: \"alert alert-danger mt-3\",\n      errormsg: \"\",\n      redirect: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(\"div\", {\n      className: \"ui form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Email, {\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Password, {\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: this.state.divstyle,\n      style: {\n        display: this.state.errordiv\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      style: {\n        display: this.state.errorheader\n      },\n      className: \"alert-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.errormsg), React.createElement(\"p\", {\n      style: {\n        display: this.state.errorresend\n      },\n      className: \"mt-4 mb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Click \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.OnClickResend,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"here\"))), \" if you want to resend your confirmation email !\")), React.createElement(\"input\", {\n      id: \"submitbtn\",\n      onClick: this.OnClickSubmit,\n      className: \"btn btn-outline-dark mt-4\",\n      type: \"submit\",\n      disabled: this.state.buttondisabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Idir/Desktop/42/login/React/src/components/login.component.js"],"names":["React","Component","Email","Password","Redirect","axios","require","register","constructor","props","onChange","field","setState","errordiv","state","email","status","pwd","buttondisabled","OnClickSubmit","post","value","then","result","console","log","data","redirect","window","location","reload","errorheader","errorresend","errormsg","catch","err","renderRedirect","divstyle","render","display","OnClickResend"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAAUC,QAAV,QAA0B,kBAA1B;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,eAAe,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC5CO,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAelBC,QAfkB,GAeP,MAAOC,KAAP,IAAgB;AACvB,YAAM,KAAKC,QAAL,CAAcD,KAAd,CAAN;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAG;AAAZ,OAAd;AACA,UAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,IAA2B,KAAKF,KAAL,CAAWG,GAAX,CAAeD,MAA9C,EACI,KAAKJ,QAAL,CAAc;AAACM,QAAAA,cAAc,EAAG;AAAlB,OAAd,EADJ,KAGI,KAAKN,QAAL,CAAc;AAACM,QAAAA,cAAc,EAAG;AAAlB,OAAd;AACP,KAtBiB;;AAAA,SAwBlBC,aAxBkB,GAwBF,MAAM;AAClB,UAAI,KAAKL,KAAL,CAAWI,cAAX,KAA8B,KAAlC,EACA;AACIb,QAAAA,KAAK,CAACe,IAAN,CAAW,6BAAX,EAA0C;AAClC,mBAAU,KAAKN,KAAL,CAAWC,KAAX,CAAiBM,KADO;AAElC,sBAAa,KAAKP,KAAL,CAAWG,GAAX,CAAeI;AAFM,SAA1C,EAICC,IAJD,CAIMC,MAAM,IAAI;AACZC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,cAAIA,MAAM,IAAIA,MAAM,CAACG,IAAjB,IAAyBH,MAAM,CAACG,IAAP,KAAgB,IAA7C,EACA;AACI,iBAAKd,QAAL,CAAc;AAAEe,cAAAA,QAAQ,EAAE;AAAZ,aAAd;AACAC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH,WAJD,MAMA;AACI,iBAAKlB,QAAL,CAAc;AAAEmB,cAAAA,WAAW,EAAG,EAAhB;AAAoBC,cAAAA,WAAW,EAAG,MAAlC;AAA0CnB,cAAAA,QAAQ,EAAE,EAApD;AAAwDoB,cAAAA,QAAQ,EAAG;AAAnE,aAAd;AACAT,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH;AACJ,SAhBD,EAiBCS,KAjBD,CAiBOC,GAAG,IAAI;AACVX,UAAAA,OAAO,CAACC,GAAR,CAAY,2CAA2CU,GAAvD;AACH,SAnBD;AAoBH;AACJ,KAhDiB;;AAAA,SAkDlBC,cAlDkB,GAkDD,MAAM;AACnB,UAAI,KAAKtB,KAAL,CAAWa,QAAf,EAAyB;AACvB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACJ,KAtDiB;;AAGd,SAAKb,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG;AAAEM,QAAAA,KAAK,EAAG,EAAV;AAAcL,QAAAA,MAAM,EAAG;AAAvB,OADC;AAETC,MAAAA,GAAG,EAAG;AAAEI,QAAAA,KAAK,EAAG,EAAV;AAAcL,QAAAA,MAAM,EAAG;AAAvB,OAFG;AAGTE,MAAAA,cAAc,EAAG,IAHR;AAITa,MAAAA,WAAW,EAAG,MAJL;AAKTlB,MAAAA,QAAQ,EAAG,MALF;AAMTwB,MAAAA,QAAQ,EAAG,yBANF;AAOTJ,MAAAA,QAAQ,EAAG,EAPF;AAQTN,MAAAA,QAAQ,EAAE;AARD,KAAb;AAUH;;AA2CDW,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKF,cAAL,EADL,EAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,QAAQ,EAAE,KAAK1B,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKA,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ,EAMI;AAAK,MAAA,SAAS,EAAE,KAAKI,KAAL,CAAWuB,QAA3B;AAAqC,MAAA,KAAK,EAAE;AAACE,QAAAA,OAAO,EAAG,KAAKzB,KAAL,CAAWD;AAAtB,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAE;AAAC0B,QAAAA,OAAO,EAAG,KAAKzB,KAAL,CAAWiB;AAAtB,OAAX;AAA+C,MAAA,SAAS,EAAC,eAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0E,KAAKjB,KAAL,CAAWmB,QAArF,CADJ,EAEI;AAAG,MAAA,KAAK,EAAE;AAACM,QAAAA,OAAO,EAAG,KAAKzB,KAAL,CAAWkB;AAAtB,OAAV;AAA8C,MAAA,SAAS,EAAC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA0E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAM,MAAA,OAAO,EAAE,KAAKQ,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CAAR,CAA1E,qDAFJ,CANJ,EAUI;AAAO,MAAA,EAAE,EAAC,WAAV;AAAsB,MAAA,OAAO,EAAE,KAAKrB,aAApC;AAAmD,MAAA,SAAS,EAAC,2BAA7D;AAAwF,MAAA,IAAI,EAAC,QAA7F;AAAsG,MAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWI,cAA3H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CADJ;AAcH;;AAxE2C","sourcesContent":["import React, { Component} from \"react\";\r\nimport Email from \"./email.component\";\r\nimport Password from \"./password.component\";\r\nimport  { Redirect } from 'react-router-dom'\r\nconst axios = require(\"axios\");\r\n\r\nexport default class register extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            email : { value : \"\", status : false},\r\n            pwd : { value : \"\", status : false},\r\n            buttondisabled : true,\r\n            errorheader : \"none\",\r\n            errordiv : \"none\",\r\n            divstyle : \"alert alert-danger mt-3\",\r\n            errormsg : \"\",\r\n            redirect: false\r\n        }\r\n    }\r\n\r\n    onChange = async (field) =>{\r\n        await this.setState(field)\r\n        this.setState({errordiv : \"none\"})\r\n        if (this.state.email.status && this.state.pwd.status)\r\n            this.setState({buttondisabled : false})\r\n        else\r\n            this.setState({buttondisabled : true,})\r\n    }\r\n    \r\n    OnClickSubmit = () => {\r\n        if (this.state.buttondisabled === false)\r\n        {\r\n            axios.post(\"http://localhost:3001/login\", {\r\n                    \"email\" : this.state.email.value,\r\n                    \"password\" : this.state.pwd.value,\r\n            })\r\n            .then(result => {\r\n                console.log(result)\r\n                if (result && result.data && result.data === true)\r\n                {\r\n                    this.setState({ redirect: true })\r\n                    window.location.reload(false);\r\n                }\r\n                else\r\n                {\r\n                    this.setState({ errorheader : \"\", errorresend : \"none\", errordiv: \"\", errormsg : \"Wrong e-mail or/and password\" })\r\n                    console.log(\"mauvais log\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(\"There was an error with login request \" + err)\r\n            })\r\n        }\r\n    }\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.redirect) {\r\n          return <Redirect to='/success' />\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderRedirect()}\r\n                <div className=\"ui form\">\r\n                    <Email onChange={this.onChange}/>\r\n                    <Password onChange={this.onChange}/>\r\n                </div>\r\n                <div className={this.state.divstyle} style={{display : this.state.errordiv}}>\r\n                    <h4 style={{display : this.state.errorheader}} className=\"alert-heading\">{this.state.errormsg}</h4>\r\n                    <p style={{display : this.state.errorresend}} className=\"mt-4 mb-1\">Click <strong><em><span onClick={this.OnClickResend}>here</span></em></strong> if you want to resend your confirmation email !</p>\r\n                </div>\r\n                <input id=\"submitbtn\" onClick={this.OnClickSubmit} className=\"btn btn-outline-dark mt-4\"type=\"submit\" disabled={this.state.buttondisabled} />\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}